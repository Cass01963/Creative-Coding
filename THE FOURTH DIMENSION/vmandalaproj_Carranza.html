<!doctype html>
<html>
<head>
<meta charset="UTF-8">

<title> VECTOR MANDALA PROJECT </title>

<!-- import external .js scripts here -->

<!-- <script type="text/javascript" src="#" ></script> -->
<!-- modify CSS properties here -->

<style type="text/css">
body,td,th {
font-family: Monaco, "Courier New", "monospace";
font-size: 14px;
color: rgba(255,255,255,1);
}

body {
background-color: rgba(0,0,0,1);
}

#container {
position: relative;
text-align: left;
width: 95%;
height: 800px;
}

#fmxCanvas {
position: relative;
background-color:rgba(255,255,255,1);
border: rgba(255,255,255,1) thin dashed;
margin: 10px;
cursor: none;
display: inline-block;
}

</style>

</head>

<body>

<div id="container">
<!-- START HTML CODE HERE -->

<canvas id="fmxCanvas" width="800" height="800"></canvas>

<div id="display"></div>

<br><br>

Add your personal notes or additional information here
<!-- FINISH HTML CODE HERE -->
</div>

<script>

///////////////////////////////////////////////////////////////////////
// DECLARE requestAnimFrame

var rAF = window.requestAnimFrame ||
window.mozRequestAnimFrame ||
window.webkitRequestAnimFrame ||
window.msRequestAnimFrame;

var fps = 30;

window.requestAnimFrame = (

function(callback) {

return rAF ||

function(callback) {
window.setTimeout(callback, 1000 / fps);
};

})();

///////////////////////////////////////////////////////////////////////
// DEFINE GLOBAL VARIABLES HERE

var canvas;
var ctx;
canvas = document.getElementById("fmxCanvas");
ctx = canvas.getContext("2d");

var canvas1;
var ctx1;
canvas1 = document.createElement("canvas");
ctx1 = canvas1.getContext("2d");

canvas1.width = canvas.width;
canvas1.height = canvas.height;

var canvas2;
var ctx2;
canvas2 = document.createElement("canvas");
ctx2 = canvas2.getContext("2d");

canvas2.width = canvas.width;
canvas2.height = canvas.height;

	
var canvas3;
var ctx3;
canvas3 = document.createElement("canvas");
ctx3 = canvas3.getContext("2d");

canvas3.width = canvas.width;
canvas3.height = canvas.height;
	
var canvas4;
var ctx4;
canvas4 = document.createElement("canvas");
ctx4 = canvas4.getContext("2d");

canvas4.width = canvas.width;
canvas4.height = canvas.height;
	
var canvas5;
var ctx5;
canvas5 = document.createElement("canvas");
ctx5 = canvas5.getContext("2d");

canvas5.width = canvas.width;
canvas5.height = canvas.height;
	
var canvas6;
var ctx6;
canvas6 = document.createElement("canvas");
ctx6 = canvas6.getContext("2d");

canvas6.width = canvas.width;
canvas6.height = canvas.height;
	
var canvas7;
var ctx7;
canvas7 = document.createElement("canvas");
ctx7 = canvas7.getContext("2d");

canvas7.width = canvas.width;
canvas7.height = canvas.height;
	
var canvas8;
var ctx8;
canvas8 = document.createElement("canvas");
ctx8 = canvas8.getContext("2d");

canvas8.width = canvas.width;
canvas8.height = canvas.height;
	
var canvas9;
var ctx9;
canvas9 = document.createElement("canvas");
ctx9 = canvas9.getContext("2d");

canvas9.width = canvas.width;
canvas9.height = canvas.height;
	
var canvas10;
var ctx10;
canvas10 = document.createElement("canvas");
ctx10 = canvas10.getContext("2d");

canvas10.width = canvas.width;
canvas10.height = canvas.height;
	
var display;
display = document.getElementById('display');

var counter;

///////////////////////////////////////////////////////////////////////
// DEFINE YOUR GLOBAL VARIABLES HERE

///////////////////////////////////////////////////////////////////////
// CALL THE EVENT LISTENERS

window.addEventListener("load", setup, false);
//////////////////////////////////////////////////////////////////////
// ADD EVENT LISTENERS

canvas.addEventListener("mousemove", mousePos, false);

//////////////////////////////////////////////////////////////////////
// MOUSE COORDINATES

var stage, mouseX, mouseY;

function mousePos(event) {
stage = canvas.getBoundingClientRect();
mouseX = event.clientX - stage.left;
mouseY = event.clientY - stage.top;
}

/////////////////////////////////////////////////////////////////////
// INITIALIZE THE STARTING FUNCTION

function setup() {

/////////////////////////////////////////////////////////////////////
// DECLARE STARTING VALUES OF GLOBAL VARIABLES

counter = 0;
mouseX = canvas.width/2;
mouseY = canvas.height/2;

/////////////////////////////////////////////////////////////////////
// CALL SUBSEQUENT FUNCTIONS, as many as you need

clear(); // COVER TRANSPARENT CANVAS OR CLEAR CANVAS

draw(); // THIS IS WHERE EVERYTHING HAPPENS

}

////////////////////////////////////////////////////////////////////
// CLEAR THE CANVAS FOR ANIMATION
// USE THIS AREA TO MODIFY BKGD

function clear() {

ctx.clearRect(0,0,canvas.width, canvas.height);
ctx1.clearRect(0,0,canvas.width, canvas.height);
ctx2.clearRect(0,0,canvas.width, canvas.height);
ctx3.clearRect(0,0,canvas.width, canvas.height);
ctx4.clearRect(0,0,canvas.width, canvas.height);
ctx5.clearRect(0,0,canvas.width, canvas.height);
ctx6.clearRect(0,0,canvas.width, canvas.height);
ctx7.clearRect(0,0,canvas.width, canvas.height);
ctx8.clearRect(0,0,canvas.width, canvas.height);
ctx9.clearRect(0,0,canvas.width, canvas.height);
ctx10.clearRect(0,0,canvas.width, canvas.height);

// clear additional ctxs here if you have more than canvas1

}

////////////////////////////////////////////////////////////////////
// THIS IS WHERE EVERYTHING HAPPENS

function draw() {

counter += 0.1; // EASIER FOR SINE COSINE FUNCTIONS

if (counter > Math.PI*200) { counter = 0; } // RESET COUNTER

clear(); // USE THIS TO REFRESH THE FRAME AND CLEAR CANVAS

////////////////////////////////////////////////////////////////////
// >>>START HERE>>>START HERE>>>START HERE>>>START HERE>>>START HERE
	
////BACKGROUND
	
ctx.beginPath();
	
	ctx.rect(0,0,canvas.width,canvas.height);
	
ctx.closePath();
	
	ctx.fillStyle = "rgba(16,16,16,1.00)";
	ctx.fill();
	
///QUADRANT 10
var grd10 = ctx.createRadialGradient(317,214,400,400,235,250);
	grd10.addColorStop(0,"rgba(0,131,255,1.00)"); 
	grd10.addColorStop(0.5,"rgba(215,0,255,1.00)");
	grd10.addColorStop(1,"rgba(19,255,230,1.00)");

ctx10.beginPath();
	
	ctx10.moveTo(0,0);
	ctx10.lineTo(220,50);
	ctx10.lineTo(50,230);
	
ctx10.closePath();
	
	ctx10.fillStyle = grd10;
	ctx10.fill();

////QUADRANT 10
 
var amount10 = 80;
	
for (var u=0; u<amount10; u++) {
 
ctx.save();
	
	ctx.translate(canvas.width/2 , canvas.height/2);
	ctx.rotate(u/amount10 * Math.PI * 2 + counter/10);
	ctx.scale(0.85,0.85);
	ctx.globalAlpha = 0.5;
	ctx.drawImage(canvas10,mouseX/2,mouseY/2);
	
ctx.restore();
}
	
///QUADRANT 3
	
var grd3 = ctx3.createLinearGradient(20,80,180,50);
	grd3.addColorStop(0,"rgba(181,36,107,1.00)");
 	grd3.addColorStop(0.25,"rgba(123,103,190,1.00)");
	grd3.addColorStop(0.5,"rgba(197,248,255,1.00)");
	grd3.addColorStop(0.75,"rgba(178,75,255,1.00)");
	grd3.addColorStop(1,"rgba(0,255,211,1.00)");
	
ctx3.beginPath();
	
	ctx3.moveTo(0,0);
	ctx3.lineTo(mouseX/2,mouseY/2);
	ctx3.lineTo(120,60);
	ctx3.lineTo(mouseX/2,mouseY/2);
	ctx3.lineTo(mouseX/2,mouseY/2);
	ctx3.lineTo(110,140);
	
ctx3.closePath();
	
	ctx3.fillStyle = grd3;
	ctx3.fill();
	
////QUADRANT 3
	
var amount3 = 70;
	
for (var k=0; k<amount3; k++) {
 
ctx.save();
	
	ctx.translate(400,400);
	ctx.rotate(k/amount3 * Math.PI * 2 - counter/8);
	ctx.drawImage(canvas3,120,330);
	
ctx.restore();
}

	
/// QUADRANT 1
var grd1 = ctx1.createLinearGradient(143,286,190,5);
	grd1.addColorStop(0,"rgba(0,255,148,1.00)");
 	grd1.addColorStop(0.25,"rgba(111,255,255,1.00)");
	grd1.addColorStop(0.5,"rgba(255,120,255,1.00)");
	grd1.addColorStop(1,"rgba(255,86,86,1.00)");
	
ctx1.beginPath();
	
	ctx1.moveTo(0,0);
	ctx1.quadraticCurveTo(mouseX+2,mouseY+2,108,218);
	
ctx1.closePath();
	
	ctx1.fillStyle = grd1;
	ctx1.fill();
	
////QUADRANT 1
var amount1 = 15;
	
for (var i=0; i<amount1; i++) {
 
ctx.save();
	
	ctx.translate(400,400);
	ctx.rotate(i/amount1 * Math.PI * 2 + counter/8);
	ctx.drawImage(canvas1,40,40);
	
ctx.restore();
}
	
	
/// QUADRANT 2
	
var grd2 = ctx2.createLinearGradient(88,100,140,60);
	grd2.addColorStop(0,"rgba(255,0,125,1.00)");
 	grd2.addColorStop(0.5,"rgba(75,20,255,1.00)");
	grd2.addColorStop(1,"rgba(161,255,0,1.00)");


ctx2.beginPath();
	
	ctx2.moveTo(0,0);
	ctx2.bezierCurveTo(mouseX/5,mouseY/5,45,mouseX-50,mouseY/5,60);
	ctx2.lineTo(140,140);
	ctx2.lineTo(50,120);
	ctx2.bezierCurveTo(150,100,mouseY/2,mouseX/2,70,35);
	
ctx2.closePath();
	
	ctx2.fillStyle = grd2;
	ctx2.fill();
	
////QUADRANT 2

var amount2 = 20;
	
for (var j=0; j<amount2; j++) {
	
ctx.save();
	
	ctx.translate(400,400);
	ctx.scale(1.55,1.5);
	ctx.rotate(j/amount2 * Math.PI*2 - counter/10);
	ctx.drawImage(canvas2,0,0);	

ctx.restore();
}
	
///QUADRANT 4
	
var grd4 = ctx4.createLinearGradient(mouseX, mouseY,0,0);
	grd4.addColorStop(0,"rgba(39,255,59,1.00)");
 	grd4.addColorStop(0.5,"rgba(242,255,59,1.00)");
	grd4.addColorStop(1,"rgba(255,0,196,1.00)");
 
ctx4.beginPath();
	
	ctx4.quadraticCurveTo(mouseX,mouseY, 400,400)
	ctx4.quadraticCurveTo(400,400, 0,0)
	
ctx4.closePath();
	
ctx4.fillStyle = grd4;
	
ctx4.fill();
	
////QUADRANT 4
var amount4 = 10;
	
for (var l=0; l<amount4; l++) {
	
ctx.save();
	
	ctx.translate(400,400);
	ctx.scale(0.2,0.2);
	ctx.globalAlpha = 0.75
	ctx.rotate(l/amount4 * Math.PI*2 + counter/10);
	ctx.drawImage(canvas4,0,0);	

ctx.restore();

}
	
///QUADRANT 5
var grd5 = ctx5.createLinearGradient(500,500,550,480);
	grd5.addColorStop(0,"rgba(255,248,38,1.00)");
 	grd5.addColorStop(0.5,"rgba(251,147,0,1.00)");
	grd5.addColorStop(1,"rgba(255,43,164,1.00)");
	
ctx5.beginPath();
	
	ctx5.moveTo(400,400)
	ctx5.quadraticCurveTo(mouseX,mouseY,540,500);
	ctx5.quadraticCurveTo(550,440,400,400)
	
ctx5.closePath();
	
	ctx5.fillStyle = grd5
	ctx5.fill();
	
////QUADRANT 5
var rad = Math.sin(counter/10) * canvas.width/2;
 
var amount5 = 80;
	
for (var m=0; m<amount5; m++) {
 
ctx.save();
	
	ctx.translate(canvas.width/2 , canvas.height/2);
	ctx.rotate(m/amount5 * Math.PI * 2 - counter/10);
	ctx.globalAlpha = 0.25;
	ctx.drawImage(canvas5,-400 +rad, -mouseX+rad);
	
ctx.restore();

}
	
///QUADRANT 9
	
var grd6 = ctx9.createLinearGradient(130,160,80,30);
	grd6.addColorStop(0,"rgba(107,255,121,1.00)");
 	grd6.addColorStop(0.5,"rgba(255,222,59,1.00)");
	grd6.addColorStop(1,"rgba(255,60,127,1.00)");
	
ctx9.beginPath();
	
	ctx9.moveTo(0,0);
	ctx9.bezierCurveTo(mouseX,mouseY,150,35,200,200);
	ctx9.quadraticCurveTo(200,50,140,150);
	ctx9.bezierCurveTo(280,110,180,70,90,50);
	
ctx9.closePath();
	
	ctx9.fillStyle = grd6;
	ctx9.fill();

////QUADRANT 9
	
var amount9 = 50;
	
for (var q=0; q<amount9; q++) {
 
ctx.save();
	
	ctx.translate(400,400);
	ctx.scale(0.5,0.5);
	ctx.globalAlpha = 0.8;
	ctx.rotate(q/amount9 * Math.PI * 2 + counter/25);
	ctx.drawImage(canvas9,mouseX/2,mouseY/2);
	
ctx.restore();
}


///QUADRANT 6
	
ctx6.beginPath();
	
	ctx6.moveTo(0,0);
	ctx6.bezierCurveTo(410,80,40,420,400,400);
	
	ctx6.lineWidth = 10;
	ctx6.lineCap = "round";
	ctx6.strokeStyle = "rgba(255,255,255,1.00)";
	ctx6.stroke();
	
////QUADRANT 6
	
var amount6 = 30;
	
for (var n = 0; n< amount6; n++ ) {
	
ctx.save();
	
	ctx.translate(400,400);
	ctx.scale(0.3,0.3);
	ctx.globalAlpha = 0.75;
	ctx.rotate(n/amount6 * Math.PI*2 + counter/4);
	ctx.drawImage(canvas6, 0,0)
	
ctx.restore();
}
	

///QUADRANT 7
	
ctx7.beginPath();
	
	ctx7.moveTo(0,0);
	ctx7.quadraticCurveTo(mouseX,mouseY,400,400);
	
	ctx7.lineWidth = 10;
	ctx7.lineCap = "round";
	ctx7.strokeStyle = "rgba(255,255,255,1.00)";
	ctx7.stroke();
	
////QUADRANT 7
var amount7 = 30;
	
for (var o = 0; o< amount7; o++ ) {
	
ctx.save();
	
	ctx.translate(400,400);
	ctx.scale(0.3,0.3);
	ctx.rotate(o/amount7 * Math.PI*2 + counter/4);
	ctx.drawImage(canvas7,0,0);
	
ctx.restore();
}
	
///QUADRANT 8
	
ctx8.beginPath();
	
	ctx8.moveTo(0,0);
	ctx8.lineTo(mouseX/2,mouseY/2)
	
	ctx8.lineWidth = 20;
	ctx8.lineCap = "round";
	ctx8.strokeStyle = "rgba(255,255,255,1.00)";
	ctx8.stroke();
	
////QUADRANT 8

var amount8 = 30;
	
for (var p = 0; p<amount8; p++ ) {
	
ctx.save();
	
	ctx.translate(400,400);
	ctx.scale(0.3,0.3);
	ctx.globalAlpha = 0.75;
	ctx.rotate(p/amount8 * Math.PI*2 + counter/4);
	ctx.drawImage(canvas8,410,370);
	
ctx.restore();
}
	

// <<<END HERE<<<END HERE<<<END HERE<<<END HERE<<<END HERE<<<END HERE
///////////////////////////////////////////////////////////////////

// CREDITS

ctx.save();
var credits = "Christian Carranza, Escape, FMX 310, SP 2022";
ctx.font = 'bold 12px Helvetica';
ctx.fillStyle = "rgba(0,0,0,1)"; // change the color here
ctx.shadowColor = "rgba(255,255,255,1)"; // change shadow color here
ctx.shadowBlur = 12;
ctx.shadowOffsetX = 2;
ctx.shadowOffsetY = 2;
ctx.fillText(credits, 10, canvas.height - 10); // CHANGE THE LOCATION HERE
ctx.restore();

//////////////////////////////////////////////////////////////////
// HTML DISPLAY FIELD FOR TESTING PURPOSES

display.innerHTML = Math.round(mouseX) + " || " + Math.round(mouseY) + " || counter = " + Math.round(counter);

/////////////////////////////////////////////////////////////////
// LAST LINE CREATES THE ANIMATION

requestAnimFrame(draw); // CALLS draw() every nth of a second

}

</script>

</body>
</html>